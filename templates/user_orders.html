{% extends 'layouts/base.html' %}
{% block content %}

<style>
    body {
        background-color: rgb(245, 244, 242);
    }

    .wrapper {
        margin-top: 0px;
        margin-bottom: 50px;
        position: relative;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    .item {
        background-color: white;
        border: 1px solid;
        border-radius: 25px;
        border-color: white;
        box-shadow: 0px 5px 10px #212121;
        width: 750px;
        height: 150px;
        margin: 15px;
        display: inline-block;
        position: relative;
        margin-bottom: 10px;
        margin-top: 20px;
    }

    .item a {
        color: black;
    }

    .item a:hover {
        color: grey;
    }

    .item img {
        border: 1px solid;
        border-radius: 20px;
        border-color: white;
        margin-left: 5px;
        margin-right: 160px;
    }

    hr {
        border: none;
        border-top: 3px solid black;
    }
</style>
<br><br>
<div class="container">
    {% if active_order %}
    <h1 style="font-family: Arial Black, Helvetica, sans-serif; text-align: center; font-size: 35px;">
        Активный заказ
    </h1>
    <div class="wrapper">
        {% for order in active_order %}
        <div class="item">
            <img src="https://cdn.discordapp.com/attachments/774738100563214428/1139309592409538661/kfc-menu-logo-scaled.jpg"
                width="150px" height="149px" align="left">
            {% if order.status == 'processing' %}
            <svg style="float: right; margin-top: 35px; margin-right: 100px; color: orange;"
                xmlns="http://www.w3.org/2000/svg" width="75" height="75" fill="currentColor" class="bi bi-arrow-repeat"
                viewBox="0 0 16 16">
                <path
                    d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z" />
                <path fill-rule="evenodd"
                    d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z" />
            </svg>
            {% elif order.status == 'cooking' %}
            <svg fill="orange" width="75px" height="75px" viewBox="0 -37.5 122.88 122.88" version="1.1" id="Layer_1"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                style="float: right; margin-top: 35px; margin-right: 100px; enable-background:new 0 0 122.88 47.87"
                xml:space="preserve" stroke="orange">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <style type="text/css">
                        .st0 {
                            fill-rule: evenodd;
                            clip-rule: evenodd;
                        }
                    </style>
                    <g>
                        <path class="st0"
                            d="M4.98,27.65H29.7c2.16,0,4.01,1.39,4.7,3.33h20.28l-0.76-4.02c-0.17-0.9,0.42-1.76,1.32-1.93 c0.1-0.02,0.2-0.03,0.3-0.03v0h65.68c0.91,0,1.66,0.74,1.66,1.66c0,0.19-0.03,0.37-0.09,0.54l-2.69,10.18 c-0.77,2.93-2.07,5.69-4.02,7.63c-1.76,1.76-4.02,2.86-6.84,2.86h-42.5c-2.88,0-5.26-1.13-7.09-2.96 c-1.95-1.95-3.24-4.69-3.79-7.65l-0.56-2.96H34.4c-0.69,1.93-2.54,3.33-4.7,3.33H4.98C2.25,37.62,0,35.38,0,32.64 C0,29.9,2.24,27.65,4.98,27.65L4.98,27.65z M104.49,0.48c0.65-0.65,1.7-0.65,2.34,0s0.65,1.7,0,2.34c-1.58,1.58-0.86,2.93-0.02,4.5 c1.41,2.64,3.04,5.67,0.28,10.44c-0.46,0.79-1.47,1.06-2.26,0.6c-0.79-0.46-1.06-1.47-0.6-2.26c1.83-3.18,0.68-5.34-0.33-7.23 C102.44,6.15,101.18,3.8,104.49,0.48L104.49,0.48z M92.17,0.48c0.65-0.65,1.7-0.65,2.34,0s0.65,1.7,0,2.34 c-1.58,1.58-0.86,2.93-0.02,4.5c1.41,2.64,3.04,5.67,0.28,10.44c-0.46,0.79-1.47,1.06-2.26,0.6c-0.79-0.46-1.06-1.47-0.6-2.26 c1.83-3.18,0.68-5.34-0.33-7.23C90.12,6.15,88.86,3.8,92.17,0.48L92.17,0.48z M79.86,0.48c0.65-0.65,1.7-0.65,2.34,0 c0.65,0.65,0.65,1.7,0,2.34c-1.58,1.58-0.86,2.93-0.02,4.5c1.41,2.64,3.04,5.67,0.28,10.44c-0.46,0.79-1.47,1.06-2.26,0.6 c-0.79-0.46-1.06-1.47-0.6-2.26c1.83-3.18,0.68-5.34-0.33-7.23C77.8,6.15,76.54,3.8,79.86,0.48L79.86,0.48z M67.54,0.48 c0.65-0.65,1.7-0.65,2.34,0c0.65,0.65,0.65,1.7,0,2.34c-1.58,1.58-0.86,2.93-0.02,4.5c1.41,2.64,3.04,5.67,0.28,10.44 c-0.46,0.79-1.47,1.06-2.26,0.6s-1.06-1.47-0.6-2.26c1.83-3.18,0.68-5.34-0.33-7.23C65.49,6.15,64.23,3.8,67.54,0.48L67.54,0.48z M116.91,36.53l2.17-8.22H57.54l1.57,8.34c0.44,2.32,1.42,4.45,2.89,5.92c1.23,1.23,2.83,1.99,4.75,1.99h42.5 c1.85,0,3.33-0.73,4.5-1.89C115.25,41.16,116.28,38.94,116.91,36.53L116.91,36.53z">
                        </path>
                    </g>
                </g>
            </svg>
            {% elif order.status == 'shipped' %}
            <svg width="75px" height="75px" viewBox="-2.4 -2.4 28.80 28.80" fill="none"
                xmlns="http://www.w3.org/2000/svg" style="float: right; margin-top: 35px; margin-right: 100px;"
                stroke="orange">
                <g id="SVGRepo_bgCarrier" stroke-width="0" transform="translate(0,0), scale(1)"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC"
                    stroke-width="0.144"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M8 17H16M8 17C8 18.1046 7.10457 19 6 19C4.89543 19 4 18.1046 4 17M8 17C8 15.8954 7.10457 15 6 15C4.89543 15 4 15.8954 4 17M16 17C16 18.1046 16.8954 19 18 19C19.1046 19 20 18.1046 20 17M16 17C16 15.8954 16.8954 15 18 15C19.1046 15 20 15.8954 20 17M10 5V11M4 11L4.33152 9.01088C4.56901 7.58593 4.68776 6.87345 5.0433 6.3388C5.35671 5.8675 5.79705 5.49447 6.31346 5.26281C6.8993 5 7.6216 5 9.06621 5H12.4311C13.3703 5 13.8399 5 14.2662 5.12945C14.6436 5.24406 14.9946 5.43194 15.2993 5.68236C15.6435 5.96523 15.904 6.35597 16.425 7.13744L19 11M4 17H3.6C3.03995 17 2.75992 17 2.54601 16.891C2.35785 16.7951 2.20487 16.6422 2.10899 16.454C2 16.2401 2 15.9601 2 15.4V14.2C2 13.0799 2 12.5198 2.21799 12.092C2.40973 11.7157 2.71569 11.4097 3.09202 11.218C3.51984 11 4.0799 11 5.2 11H17.2C17.9432 11 18.3148 11 18.6257 11.0492C20.3373 11.3203 21.6797 12.6627 21.9508 14.3743C22 14.6852 22 15.0568 22 15.8C22 15.9858 22 16.0787 21.9877 16.1564C21.9199 16.5843 21.5843 16.9199 21.1564 16.9877C21.0787 17 20.9858 17 20.8 17H20"
                        stroke="" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </g>
            </svg>
            {% else %}
            <svg style="float: right; margin-top: 35px; margin-right: 100px; color: green;"
                xmlns="http://www.w3.org/2000/svg" width="75" height="75" fill="currentColor" class="bi bi-check-lg"
                viewBox="0 0 16 16">
                <path
                    d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z" />
            </svg>
            {% endif %}
            <h2 style="margin-top: 30px; font-size: 20px; font-family: Arial, Helvetica, sans-serif;">
                Дата: {{order.updated_at|date:'d, N Y'}}<br>
                {% for key, value in STATUS_CHOICES %}
                {% if order.status == key %}
                <h2 style="font-size: 20px; font-family: Arial, Helvetica, sans-serif;">
                    Статус: {{ value }}<br>
                    Всего: {{order.total_price}} сум
                </h2>
                {% endif %}
                {% endfor %}
            </h2>

            <a style="font-family: Arial Black, Helvetica, sans-serif;"
                href="{% url 'products:order' cart_id=order.id %}">
                Подробнее о заказе
            </a>
        </div>
        {% endfor %}
    </div>
    <hr>
    {% endif %}
    {% if not_active_order %}
    <h1 style="font-family: Arial Black, Helvetica, sans-serif; text-align: center; font-size: 35px;">
        Доставленные заказы
    </h1>
    <div class="wrapper">
        {% for order in not_active_order %}
        <div class="item">
            <img src="https://cdn.discordapp.com/attachments/774738100563214428/1139309592409538661/kfc-menu-logo-scaled.jpg"
                width="150px" height="149px" align="left">
            <svg style="float: right; margin-top: 35px; margin-right: 100px; color: green;"
                xmlns="http://www.w3.org/2000/svg" width="75" height="75" fill="currentColor" class="bi bi-check-lg"
                viewBox="0 0 16 16">
                <path
                    d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z" />
            </svg>
            <h2 style="margin-top: 30px; font-size: 20px; font-family: Arial, Helvetica, sans-serif;">
                Дата: {{order.updated_at|date:'d, N Y'}}<br>
                Заказ доставлен<br>
                Всего: {{order.total_price}} сум
            </h2>

            <a style="font-family: Arial Black, Helvetica, sans-serif;"
                href="{% url 'products:order' cart_id=order.id %}">
                Подробнее о заказе
            </a>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% if not active_order and not not_active_order %}
    <p>Оба объекта пустые</p>
    {% endif %}
</div>
<br>*10
{% endblock %}